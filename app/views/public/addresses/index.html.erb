<h2>配送先登録一覧</h2>

<%= form_for @address do |f|%>
    <% if @address.errors.any? %>
                  <div id="error_explanation">
                        <div class="panel panel-default">
                            <div class="panel-heading">
                                <h2><%= @address.errors.count %>件のエラーが発生しました。</h2>
                            </div>
                            <div class="panel-body">
                                <ul>
                                    <% @address.errors.full_messages.each do |message| %>
                                    <li><%= message %></li>
                                    <% end %>
                                </ul>
                            </div>
                        </div>
                    </div>
                <% end %>
    <table>
        <tr>
            <td><%= f.label :postal_code,"郵便番号（ハイフンなし）" %></td>
            <td><%= f.text_field :postal_code %></td>
        </tr>
        <tr>
            <td><%= f.label :address,"住所" %></td>
            <td><%= f.text_field :address %></td>
        </tr>
        <tr>
            <td><%= f.label :name,"宛名" %></td>
            <td><%= f.text_field :name %></td>
            <td><%= f.submit "登録する",class: "btn btn-success" %></td> 
        </tr>
    </table>
<%end%>

<table class="table table-bordered">
    <thead>
        <tr>
            <th>郵便番号</th>
            <th>住所</th>
            <th>宛名</th>
            <th></th>
        </tr>
    </thead>
    <tbody>
        <% @addresses.each do |address| %>
            <tr>
                <td><%= address.postal_code%></td>
                <td><%= address.address%></td>
                <td><%= address.name%></td>
                <td><%= link_to "編集する",edit_address_path(address),class: "btn btn-success" %> 
                    <%= link_to "削除する",address_path(address),method: :delete,class: "btn btn-primary" %>
                </td>
            </tr>
        <% end %>
    </tbody>

</table>